<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arduboy2 Library: BeepPin1 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduboy2 Library
   &#160;<span id="projectnumber">6.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classBeepPin1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classBeepPin1-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BeepPin1 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Play simple square wave tones using speaker pin 1.  
 <a href="classBeepPin1.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Arduboy2Beep_8h_source.html">Arduboy2Beep.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad0ff2fe2542a7b452a30a96eead3c44f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#ad0ff2fe2542a7b452a30a96eead3c44f">begin</a> ()</td></tr>
<tr class="memdesc:ad0ff2fe2542a7b452a30a96eead3c44f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the hardware.  <a href="classBeepPin1.html#ad0ff2fe2542a7b452a30a96eead3c44f">More...</a><br /></td></tr>
<tr class="separator:ad0ff2fe2542a7b452a30a96eead3c44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2fe898dea4a841cdf26a5daabb2c36"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">tone</a> (uint16_t count)</td></tr>
<tr class="memdesc:aac2fe898dea4a841cdf26a5daabb2c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a tone continually, until replaced by a new tone or stopped.  <a href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">More...</a><br /></td></tr>
<tr class="separator:aac2fe898dea4a841cdf26a5daabb2c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbd47ba7df25756bf22c531db75e2ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#a7dbd47ba7df25756bf22c531db75e2ac">tone</a> (uint16_t count, uint8_t dur)</td></tr>
<tr class="memdesc:a7dbd47ba7df25756bf22c531db75e2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a tone for a given duration.  <a href="classBeepPin1.html#a7dbd47ba7df25756bf22c531db75e2ac">More...</a><br /></td></tr>
<tr class="separator:a7dbd47ba7df25756bf22c531db75e2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bcaca420ac1a46f30bc5314f64bffc7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7">timer</a> ()</td></tr>
<tr class="memdesc:a4bcaca420ac1a46f30bc5314f64bffc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the duration that a tone plays for.  <a href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7">More...</a><br /></td></tr>
<tr class="separator:a4bcaca420ac1a46f30bc5314f64bffc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6661ee7f14a801138c7440772e2d0e99"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99">noTone</a> ()</td></tr>
<tr class="memdesc:a6661ee7f14a801138c7440772e2d0e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a tone that is playing.  <a href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99">More...</a><br /></td></tr>
<tr class="separator:a6661ee7f14a801138c7440772e2d0e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04eb48e58d4e443a1b63bb0df44ff092"><td class="memItemLeft" align="right" valign="top">static constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">freq</a> (const float hz)</td></tr>
<tr class="memdesc:a04eb48e58d4e443a1b63bb0df44ff092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a frequency to the required count.  <a href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">More...</a><br /></td></tr>
<tr class="separator:a04eb48e58d4e443a1b63bb0df44ff092"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9a18784ea68a9c1effa2f3c2a46fdd4f"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeepPin1.html#a9a18784ea68a9c1effa2f3c2a46fdd4f">duration</a> = 0</td></tr>
<tr class="memdesc:a9a18784ea68a9c1effa2f3c2a46fdd4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The counter used by the <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> function to time the duration of a tone.  <a href="classBeepPin1.html#a9a18784ea68a9c1effa2f3c2a46fdd4f">More...</a><br /></td></tr>
<tr class="separator:a9a18784ea68a9c1effa2f3c2a46fdd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Play simple square wave tones using speaker pin 1. </p>
<dl class="section note"><dt>Note</dt><dd>Class <code><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a></code> provides identical functions for playing tones on speaker pin 2. Both classes can be used in the same sketch to allow playing two tones at the same time. To do this, the <code><a class="el" href="classBeepPin1.html#ad0ff2fe2542a7b452a30a96eead3c44f" title="Set up the hardware.">begin()</a></code> and <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> functions of both classes must be used.</dd></dl>
<p>This class can be used to play square wave tones on speaker pin 1. The functions are designed to produce very small and efficient code.</p>
<p>A tone can be set to play for a given duration, or continuously until stopped or replaced by a new tone. No interrupts are used. A tone is generated by a hardware timer/counter directly toggling the pin, so once started, no CPU cycles are used to actually play the tone. The program continues to run while a tone is playing. However, a small amount of code is required to time and stop a tone after a given duration.</p>
<p>Tone frequencies can range from 15.26Hz to 1000000Hz.</p>
<p>Although there's no specific code to handle mute control, the <code><a class="el" href="classArduboy2Audio.html" title="Provide speaker and sound control.">Arduboy2Audio</a></code> class will work since it has code to mute sound by setting the speaker pins to input mode and unmute by setting the pins as outputs. The <code><a class="el" href="classBeepPin1.html" title="Play simple square wave tones using speaker pin 1.">BeepPin1</a></code> class doesn't interfere with this operation.</p>
<p>In order to avoid needing to use interrupts, the duration of tones is timed by calling the <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> function continuously at a fixed interval. The duration of a tone is given by specifying the number of times <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> will be called before stopping the tone.</p>
<p>For sketches that use <code><a class="el" href="classArduboy2Base.html#a3ddef9eba2ac41983d7d1f05367dff3d" title="Indicate that it&#39;s time to render the next frame.">Arduboy2::nextFrame()</a></code>, or some other method to generate frames at a fixed rate, <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> can be called once per frame. Tone durations will then be given as the number of frames to play the tone for. For example, with a rate of 60 frames per second a duration of 30 would be used to play a tone for half a second.</p>
<p>The variable named <code>#duration</code> is the counter that times the duration of a tone. A sketch can determine if a tone is currently playing by testing if the <code>#duration</code> variable is non-zero (assuming it's a timed tone, not a continuous tone).</p>
<p>To keep the code small and efficient, the frequency of a tone is specified by the actual count value to be loaded into to timer/counter peripheral. The frequency will be determined by the count provided and the clock rate of the timer/counter. In order to allow a tone's frequency to be specified in hertz (cycles per second) the <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> helper function is provided, which converts a given frequency to the required count value.</p>
<p>NOTE that it is intended that <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> only be called with constant values. If <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> is called with a variable, code to perform floating point math will be included in the sketch, which will likely greatly increase the sketch's code size unless the sketch also uses floating point math for other purposes.</p>
<p>The formulas for frequency/count conversion are: </p><pre class="fragment">count=(1000000/frequency)-1
frequency=1000000/(count+1)
</pre><p>Counts must be between 0 and 65535.</p>
<p>All members of the class are static, so it's not necessary to create an instance of the class in order to use it. However, creating an instance doesn't produce any more code and it may make the source code smaller and make it easier to switch to the <code><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a></code> class if it becomes necessary.</p>
<p>The following is a basic example sketch, which will generate a tone when a button is pressed.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Arduboy2_8h.html">Arduboy2.h</a>&gt;</span></div>
<div class="line"><span class="comment">// There&#39;s no need to #include &lt;Arduboy2Beep.h&gt;</span></div>
<div class="line"><span class="comment">// It will be included in Arduboy2.h</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
<div class="line"><a class="code" href="classBeepPin1.html">BeepPin1</a> beep; <span class="comment">// class instance for speaker pin 1</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2.html#a9f4d4313ee2998572a2105d6594baaa1">begin</a>();</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a6067bc5cf843a60f3c30f9ab6362018d">setFrameRate</a>(50);</div>
<div class="line">  beep.<a class="code" href="classBeepPin1.html#ad0ff2fe2542a7b452a30a96eead3c44f">begin</a>(); <span class="comment">// set up the hardware for playing tones</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  <span class="keywordflow">if</span> (!arduboy.<a class="code" href="classArduboy2Base.html#a3ddef9eba2ac41983d7d1f05367dff3d">nextFrame</a>()) {</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  beep.<a class="code" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7">timer</a>(); <span class="comment">// handle tone duration</span></div>
<div class="line"> </div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a2f275c7d4a3438f7be543a02eb9a7d00">pollButtons</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (arduboy.<a class="code" href="classArduboy2Base.html#acab90d5bfbcb9a65841cd9f812dbbf97">justPressed</a>(<a class="code" href="Arduboy2Core_8h.html#a5ec59d5e4f6bfacfdf3aa6e7ed5c0373">A_BUTTON</a>)) {</div>
<div class="line">    <span class="comment">// play a 1000Hz tone for 100 frames (2 seconds at 50 FPS)</span></div>
<div class="line">    <span class="comment">// beep.freq(1000) is used to convert 1000Hz to the required count</span></div>
<div class="line">    beep.<a class="code" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">tone</a>(beep.<a class="code" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">freq</a>(1000), 100);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>These functions, and the equivalents in class <code><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a></code>, will not work with a DevKit Arduboy because the speaker pins used cannot be directly controlled by a timer/counter. "Dummy" functions are provided so a sketch will compile and work properly but no sound will be produced.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8h_source.html#l00120">120</a> of file <a class="el" href="Arduboy2Beep_8h_source.html">Arduboy2Beep.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad0ff2fe2542a7b452a30a96eead3c44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ff2fe2542a7b452a30a96eead3c44f">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BeepPin1::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set up the hardware. </p>
<p>Prepare the hardware for playing tones. This function must be called (usually in <code>setup()</code>) before using any of the other functions in this class. </p>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8cpp_source.html#l00016">16</a> of file <a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a>.</p>

</div>
</div>
<a id="a04eb48e58d4e443a1b63bb0df44ff092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04eb48e58d4e443a1b63bb0df44ff092">&#9670;&nbsp;</a></span>freq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr uint16_t BeepPin1::freq </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a frequency to the required count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hz</td><td>The frequency, in hertz (cycles per second), to be converted to a count.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The required count to be loaded into the timer/counter for the given frequency.</dd></dl>
<p>This helper function will convert a desired tone frequency to the closest value required by the <code><a class="el" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36" title="Play a tone continually, until replaced by a new tone or stopped.">tone()</a></code> function's <code>count</code> parameter. The calculated count is rounded up or down to the nearest integer, if necessary.</p>
<p>Example: </p><div class="fragment"><div class="line">beep.<a class="code" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">tone</a>(beep.<a class="code" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">freq</a>(440)); <span class="comment">// play a 440Hz tone until stopped or replaced</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It is intended that <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> only be called with constant values. If <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> is called with a variable, code to perform floating point math will be included in the sketch, which will likely greatly increase the sketch's code size unless the sketch also uses floating point math for other purposes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8h_source.html#l00250">250</a> of file <a class="el" href="Arduboy2Beep_8h_source.html">Arduboy2Beep.h</a>.</p>

</div>
</div>
<a id="a6661ee7f14a801138c7440772e2d0e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6661ee7f14a801138c7440772e2d0e99">&#9670;&nbsp;</a></span>noTone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BeepPin1::noTone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop a tone that is playing. </p>
<p>If a tone is playing it will be stopped. It's safe to call this function even if a tone isn't currently playing.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36" title="Play a tone continually, until replaced by a new tone or stopped.">tone()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8cpp_source.html#l00041">41</a> of file <a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a>.</p>

</div>
</div>
<a id="a4bcaca420ac1a46f30bc5314f64bffc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bcaca420ac1a46f30bc5314f64bffc7">&#9670;&nbsp;</a></span>timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BeepPin1::timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle the duration that a tone plays for. </p>
<p>This function must be called at a constant interval, which would normally be once per frame, in order to stop a tone after the desired tone duration has elapsed.</p>
<p>If the value of the <code>duration</code> variable is not 0, it will be decremented. When the <code>duration</code> variable is decremented to 0, a playing tone will be stopped. </p>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8cpp_source.html#l00034">34</a> of file <a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a>.</p>

</div>
</div>
<a id="aac2fe898dea4a841cdf26a5daabb2c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2fe898dea4a841cdf26a5daabb2c36">&#9670;&nbsp;</a></span>tone() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BeepPin1::tone </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Play a tone continually, until replaced by a new tone or stopped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The count to be loaded into the timer/counter to play the desired frequency.</td></tr>
  </table>
  </dd>
</dl>
<p>A tone is played indefinitely, until replaced by another tone or stopped using <code><a class="el" href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99" title="Stop a tone that is playing.">noTone()</a></code>.</p>
<p>The tone's frequency is determined by the specified count, which is loaded into the timer/counter that generates the tone. A desired frequency can be converted into the required count value using the <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> function.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a> <a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a> <a class="el" href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99" title="Stop a tone that is playing.">noTone()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8cpp_source.html#l00022">22</a> of file <a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a>.</p>

</div>
</div>
<a id="a7dbd47ba7df25756bf22c531db75e2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dbd47ba7df25756bf22c531db75e2ac">&#9670;&nbsp;</a></span>tone() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BeepPin1::tone </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Play a tone for a given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The count to be loaded into the timer/counter to play the desired frequency. </td></tr>
    <tr><td class="paramname">dur</td><td>The duration of the tone, used by <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<p>A tone is played for the specified duration, or until replaced by another tone or stopped using <code><a class="el" href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99" title="Stop a tone that is playing.">noTone()</a></code>.</p>
<p>The tone's frequency is determined by the specified count, which is loaded into the timer/counter that generates the tone. A desired frequency can be converted into the required count value using the <code><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a></code> function.</p>
<p>The duration value is the number of times the <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> function must be called before the tone is stopped.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092" title="Convert a frequency to the required count.">freq()</a> <a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a> <a class="el" href="classBeepPin1.html#a6661ee7f14a801138c7440772e2d0e99" title="Stop a tone that is playing.">noTone()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8cpp_source.html#l00027">27</a> of file <a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9a18784ea68a9c1effa2f3c2a46fdd4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a18784ea68a9c1effa2f3c2a46fdd4f">&#9670;&nbsp;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BeepPin1::duration = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The counter used by the <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> function to time the duration of a tone. </p>
<p>This variable is set by the <code>dur</code> parameter of the <code><a class="el" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36" title="Play a tone continually, until replaced by a new tone or stopped.">tone()</a></code> function. It is then decremented each time the <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> function is called, if its value isn't 0. When <code><a class="el" href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7" title="Handle the duration that a tone plays for.">timer()</a></code> decrements it to 0, a tone that is playing will be stopped.</p>
<p>A sketch can determine if a tone is currently playing by testing if this variable is non-zero (assuming it's a timed tone, not a continuous tone).</p>
<p>Example: </p><div class="fragment"><div class="line">beep.<a class="code" href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">tone</a>(beep.<a class="code" href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">freq</a>(1000), 15);</div>
<div class="line"><span class="keywordflow">while</span> (beep.<a class="code" href="classBeepPin1.html#a9a18784ea68a9c1effa2f3c2a46fdd4f">duration</a> != 0) { } <span class="comment">// wait for the tone to stop playing</span></div>
</div><!-- fragment --><p>It can also be manipulated directly by the sketch, although this should seldom be necessary. </p>

<p class="definition">Definition at line <a class="el" href="Arduboy2Beep_8h_source.html#l00146">146</a> of file <a class="el" href="Arduboy2Beep_8h_source.html">Arduboy2Beep.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Arduboy2Beep_8h_source.html">Arduboy2Beep.h</a></li>
<li><a class="el" href="Arduboy2Beep_8cpp_source.html">Arduboy2Beep.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassBeepPin1_html"><div class="ttname"><a href="classBeepPin1.html">BeepPin1</a></div><div class="ttdoc">Play simple square wave tones using speaker pin 1.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8h_source.html#l00120">Arduboy2Beep.h:121</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a2f275c7d4a3438f7be543a02eb9a7d00"><div class="ttname"><a href="classArduboy2Base.html#a2f275c7d4a3438f7be543a02eb9a7d00">Arduboy2Base::pollButtons</a></div><div class="ttdeci">static void pollButtons()</div><div class="ttdoc">Poll the buttons and track their state over time.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l01027">Arduboy2.cpp:1027</a></div></div>
<div class="ttc" id="aclassBeepPin1_html_ad0ff2fe2542a7b452a30a96eead3c44f"><div class="ttname"><a href="classBeepPin1.html#ad0ff2fe2542a7b452a30a96eead3c44f">BeepPin1::begin</a></div><div class="ttdeci">static void begin()</div><div class="ttdoc">Set up the hardware.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8cpp_source.html#l00016">Arduboy2Beep.cpp:16</a></div></div>
<div class="ttc" id="aclassArduboy2_html"><div class="ttname"><a href="classArduboy2.html">Arduboy2</a></div><div class="ttdoc">The main functions provided for writing sketches for the Arduboy, including text output.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8h_source.html#l01575">Arduboy2.h:1576</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_acab90d5bfbcb9a65841cd9f812dbbf97"><div class="ttname"><a href="classArduboy2Base.html#acab90d5bfbcb9a65841cd9f812dbbf97">Arduboy2Base::justPressed</a></div><div class="ttdeci">static bool justPressed(uint8_t button)</div><div class="ttdoc">Check if a button has just been pressed.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l01033">Arduboy2.cpp:1033</a></div></div>
<div class="ttc" id="aArduboy2Core_8h_html_a5ec59d5e4f6bfacfdf3aa6e7ed5c0373"><div class="ttname"><a href="Arduboy2Core_8h.html#a5ec59d5e4f6bfacfdf3aa6e7ed5c0373">A_BUTTON</a></div><div class="ttdeci">#define A_BUTTON</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Core_8h_source.html#l00072">Arduboy2Core.h:71</a></div></div>
<div class="ttc" id="aclassBeepPin1_html_a04eb48e58d4e443a1b63bb0df44ff092"><div class="ttname"><a href="classBeepPin1.html#a04eb48e58d4e443a1b63bb0df44ff092">BeepPin1::freq</a></div><div class="ttdeci">static constexpr uint16_t freq(const float hz)</div><div class="ttdoc">Convert a frequency to the required count.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8h_source.html#l00250">Arduboy2Beep.h:250</a></div></div>
<div class="ttc" id="aclassBeepPin1_html_a9a18784ea68a9c1effa2f3c2a46fdd4f"><div class="ttname"><a href="classBeepPin1.html#a9a18784ea68a9c1effa2f3c2a46fdd4f">BeepPin1::duration</a></div><div class="ttdeci">static uint8_t duration</div><div class="ttdoc">The counter used by the timer() function to time the duration of a tone.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8h_source.html#l00146">Arduboy2Beep.h:146</a></div></div>
<div class="ttc" id="aclassBeepPin1_html_aac2fe898dea4a841cdf26a5daabb2c36"><div class="ttname"><a href="classBeepPin1.html#aac2fe898dea4a841cdf26a5daabb2c36">BeepPin1::tone</a></div><div class="ttdeci">static void tone(uint16_t count)</div><div class="ttdoc">Play a tone continually, until replaced by a new tone or stopped.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8cpp_source.html#l00022">Arduboy2Beep.cpp:22</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a3ddef9eba2ac41983d7d1f05367dff3d"><div class="ttname"><a href="classArduboy2Base.html#a3ddef9eba2ac41983d7d1f05367dff3d">Arduboy2Base::nextFrame</a></div><div class="ttdeci">static bool nextFrame()</div><div class="ttdoc">Indicate that it's time to render the next frame.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00237">Arduboy2.cpp:237</a></div></div>
<div class="ttc" id="aclassArduboy2_html_a9f4d4313ee2998572a2105d6594baaa1"><div class="ttname"><a href="classArduboy2.html#a9f4d4313ee2998572a2105d6594baaa1">Arduboy2::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdoc">Initialize the hardware, display the boot logo, provide boot utilities, etc.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l01170">Arduboy2.cpp:1170</a></div></div>
<div class="ttc" id="aArduboy2_8h_html"><div class="ttname"><a href="Arduboy2_8h.html">Arduboy2.h</a></div><div class="ttdoc">The Arduboy2Base and Arduboy2 classes and support objects and definitions.</div></div>
<div class="ttc" id="aclassArduboy2Base_html_a6067bc5cf843a60f3c30f9ab6362018d"><div class="ttname"><a href="classArduboy2Base.html#a6067bc5cf843a60f3c30f9ab6362018d">Arduboy2Base::setFrameRate</a></div><div class="ttdeci">static void setFrameRate(uint8_t rate)</div><div class="ttdoc">Set the frame rate used by the frame control functions.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00222">Arduboy2.cpp:222</a></div></div>
<div class="ttc" id="aclassBeepPin1_html_a4bcaca420ac1a46f30bc5314f64bffc7"><div class="ttname"><a href="classBeepPin1.html#a4bcaca420ac1a46f30bc5314f64bffc7">BeepPin1::timer</a></div><div class="ttdeci">static void timer()</div><div class="ttdoc">Handle the duration that a tone plays for.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Beep_8cpp_source.html#l00034">Arduboy2Beep.cpp:34</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classBeepPin1.html">BeepPin1</a></li>
    <li class="footer">Generated on Tue Sep 29 2020 14:29:54 for Arduboy2 Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
