<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arduboy2 Library: Arduboy2 Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arduboy2 Library
   &#160;<span id="projectnumber">6.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_sa_Programs_arduino_Arduboy_libraries_Arduboy2_README"></a> The <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library is maintained in a git repository hosted on <a href="https://github.com/">GitHub</a> at:</p>
<p><a href="https://github.com/MLXXXp/Arduboy2">https://github.com/MLXXXp/Arduboy2</a></p>
<p>The <b><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></b> library is a fork of the <a href="https://github.com/Arduboy/Arduboy">Arduboy library</a>, which provides a standard <em>application programming interface</em> (API) to the display, buttons and other hardware of the Arduino based <a href="https://www.arduboy.com/">Arduboy miniature game system</a>. The original <em>Arduboy</em> library is no longer being maintained.</p>
<p>The name <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> doesn't indicate that it's for a new "next generation" of the Arduboy hardware. The name was changed so it can coexist in the Arduino IDE with the current <em>Arduboy</em> library, without conflict. This way, existing sketches can continue to use the <em>Arduboy</em> library and class, without changes, while new sketches can be written (or old ones modified) to use and take advantage of the capabilities of the <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> class and library.</p>
<p>For notes on the differences between the <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> library and the original <em>Arduboy</em> library, and for information on migrating a sketch currently using the <em>Arduboy</em> library, see the sections at the end of this document.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Library documentation</h1>
<p>Comments in the library header files are formatted for the <a href="https://www.doxygen.nl/">Doxygen</a> document generation system. The HTML files generated using the configuration file <em>extras/Doxyfile</em> can be found at:</p>
<p><a href="https://MLXXXp.github.io/documents/Arduino/libraries/Arduboy2/Doxygen/html/index.html">https://MLXXXp.github.io/documents/Arduino/libraries/Arduboy2/Doxygen/html/index.html</a></p>
<p>A generated PDF file can be found at:</p>
<p><a href="https://MLXXXp.github.io/documents/Arduino/libraries/Arduboy2/Doxygen/pdf/Arduboy2.pdf">https://MLXXXp.github.io/documents/Arduino/libraries/Arduboy2/Doxygen/pdf/Arduboy2.pdf</a></p>
<h1><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<p>The <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library can be installed using the Arduino IDE Library Manager:</p>
<ul>
<li>In the Arduino IDE select from the menus: <code>Sketch &gt; Include Library &gt; Manage Libraries...</code></li>
<li>In the Library Manager <em>Filter your search...</em> field enter <em>arduboy2</em>.</li>
<li>Click somewhere within the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> entry.</li>
<li>Click on the <em>Install</em> button.</li>
</ul>
<p>For more library installation information see</p>
<p><a href="https://www.arduino.cc/en/Guide/Libraries#toc3">Installing Additional Arduino Libraries - Using the Library Manager</a></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Start up features</h1>
<p>The <em>begin()</em> function, used to initialize the library, includes features that are intended to be available to all sketches using the library (unless the sketch developer has chosen to disable one or more of them to free up some code space):</p>
<h2><a class="anchor" id="autotoc_md4"></a>
The boot logo</h2>
<p>At the start of the sketch, the <b>ARDUBOY</b> logo scrolls down from the top of the screen to the center.</p>
<p>The RGB LED lights red then green then blue while the logo is scrolling. (If your Arduboy is one of those that has the RGB LED installed incorrectly, then it will light blue then off then red). For users who do not wish to have the RGB LED flash during the boot logo sequence, a flag can be set in system EEPROM to have it remain off. The included <em>SetSystemEEPROM</em> example sketch can be used to set this flag.</p>
<p>A user settable <em>unit name</em> can be saved in system EEPROM memory. If set, this name will be briefly displayed at the bottom of the boot logo screen, after the logo stops scrolling down. This feature is only available if the <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> class is used, not the <em><a class="el" href="classArduboy2Base.html" title="The main functions provided for writing sketches for the Arduboy, minus text output.">Arduboy2Base</a></em> class. This is because it requires the text display functions, which are only available in the <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> class. A flag in system EEPROM controls whether or not the <em>unit name</em> is displayed on the boot logo screen, regardless of whether the <em>unit name</em> itself has been set. The included <em>SetSystemEEPROM</em> example sketch can be used to set both the <em>unit name</em> and this flag.</p>
<p>Once the logo display sequence completes, the sketch continues.</p>
<p><b>Note:</b></p>
<ul>
<li>For developers who wish to quickly begin testing, or impatient users who want to go strait to playing their game, the boot logo sequence can be bypassed by holding the <em>RIGHT</em> button while powering up, and then releasing it. Alternatively, the <em>RIGHT</em> button can be pressed while the logo is scrolling down.</li>
<li>For users who wish to always disable the displaying of the boot logo sequence on boot up, a flag in system EEPROM is available for this. The included <em>SetSystemEEPROM</em> example sketch can be used to set this flag.</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
"Flashlight" mode</h2>
<p>If the <em>UP</em> button is pressed and held when the Arduboy is powered on, it enters <em>flashlight</em> mode. This turns the RGB LED fully on, and all the pixels of the screen are lit, resulting in a bright white light suitable as a small flashlight. (For an incorrect RGB LED, only the screen will light). To exit <em>flashlight</em> mode the Arduboy must be restarted.</p>
<p><em>Flashlight</em> mode is also sometimes useful to allow uploading of new sketches, in case the sketch currently loaded uses a large amount of RAM which creates a bootloader problem.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Audio mute control</h2>
<p>Pressing and holding the <em>B</em> button when powering on will enter <em>System Control</em> mode. The RGB LED will light blue (red for an incorrect LED) to indicate that you are in <em>system control</em> mode. You must continue to hold the <em>B</em> button to remain in this mode. The only <em>system control</em> function currently implemented is <em>audio mute control</em>.</p>
<p>Pressing the <em>UP</em> button (while still holding <em>B</em>) will set a flag in system EEPROM indicating <em>audio enabled</em>. The RGB LED will flash green once (off for an incorrect LED) to indicate this action.</p>
<p>Pressing the <em>DOWN</em> button (while still holding <em>B</em>) will set the flag to <em>audio disabled</em> (muted). The RGB LED will flash red once (blue for an incorrect LED) to indicate this action.</p>
<p>Releasing the <em>B</em> button will exit <em>system control</em> mode and the sketch will continue.</p>
<p>Note that the audio control feature only sets a flag in EEPROM. Whatever code actually produces the sound must use the <em>audio.enabled()</em> function to check and honor the mute state. Audio libraries written with the Arduboy system in mind, such as the available <em>ArduboyPlaytune</em> and <em>ArduboyTones</em>, should do this. However, be aware that for some sketches, which don't use the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> or other compliant library and generate sounds in their own way, this method of muting sound may not work.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Using the library in a sketch</h1>
<p>As with most libraries, to use <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> in your sketch you must include its header file at the start:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Arduboy2_8h.html">Arduboy2.h</a>&gt;</span></div>
</div><!-- fragment --><p>You must then create an <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> class object:</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
</div><!-- fragment --><p>Naming the object <em>arduboy</em> has become somewhat of a standard, but you can use a different name if you wish.</p>
<p>To initialize the library, you must call its <em>begin()</em> function. This is usually done at the start of the sketch's <em>setup()</em> function:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> setup()</div>
<div class="line">{</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2.html#a9f4d4313ee2998572a2105d6594baaa1">begin</a>();</div>
<div class="line">  <span class="comment">// more setup code follows, if required</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>The rest of the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> functions will now be available for use.</p>
<p>If you wish to use the <a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a> class functions you must create a <a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a> object:</p>
<div class="fragment"><div class="line"><a class="code" href="classSprites.html">Sprites</a> sprites;</div>
</div><!-- fragment --><p>Sample sketches have been included with the library as examples of how to use it. To load an example, for examination and uploading to the Arduboy, using the Arduino IDE menus select:</p>
<p><code>File &gt; Examples &gt; <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></code></p>
<p>More information on writing sketches for the Arduboy can be found in the <a href="https://community.arduboy.com/">Arduboy Community Forum</a>.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Using EEPROM in a sketch &lt;- THIS IS IMPORTANT!</h2>
<p>The <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library reserves an area at the start of EEPROM for storing system information, such as the current audio mute state and the Unit Name and Unit ID. A sketch <b>MUST NOT</b> use this reserved area for its own purposes. A sketch may use any EEPROM past this reserved area. The first EEPROM address available for sketch use is given as the defined value <em>EEPROM_STORAGE_SPACE_START</em></p>
<h2><a class="anchor" id="autotoc_md9"></a>
Audio control functions</h2>
<p>The library includes an <a class="el" href="classArduboy2Audio.html" title="Provide speaker and sound control.">Arduboy2Audio</a> class. This class provides functions to enable and disable (mute) sound and also save the current mute state so that it remains in effect over power cycles and after loading a different sketch. It doesn't contain anything to actually produce sound.</p>
<p>The <a class="el" href="classArduboy2Base.html" title="The main functions provided for writing sketches for the Arduboy, minus text output.">Arduboy2Base</a> class, and thus the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> class, creates an <a class="el" href="classArduboy2Audio.html" title="Provide speaker and sound control.">Arduboy2Audio</a> class object named <em>audio</em>, so a sketch doesn't need to create its own <a class="el" href="classArduboy2Audio.html" title="Provide speaker and sound control.">Arduboy2Audio</a> object.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Arduboy2_8h.html">Arduboy2.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Arduboy2Audio functions can be called as follows:</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#af7a4991bb0ca67cfeac3d3af7b119841">on</a>();</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#ab0c55b17d1d49cccb1bb797a6d2a81db">off</a>();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Simple tone generation</h2>
<p>The <em><a class="el" href="classBeepPin1.html" title="Play simple square wave tones using speaker pin 1.">BeepPin1</a></em> and <em><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a></em> classes are available to generate simple square wave tones using speaker pin 1 and speaker pin 2 respectively. These classes are documented in file <em><a class="el" href="Arduboy2Beep_8h.html" title="Classes to generate simple square wave tones on the Arduboy speaker pins.">Arduboy2Beep.h</a></em>. Also, <em>BeepDemo</em> is included as one of the example sketches, which demonstrates basic use.</p>
<p>NOTE: These functions will not work with a DevKit Arduboy because the speaker pins used cannot be directly controlled by a timer/counter. "Dummy" functions are provided so a sketch will compile and work properly but no sound will be produced.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Ways to make more code space available to sketches</h2>
<h3><a class="anchor" id="autotoc_md12"></a>
Sound effects and music</h3>
<p>If all you want is to play single tones, using the built in <em><a class="el" href="classBeepPin1.html" title="Play simple square wave tones using speaker pin 1.">BeepPin1</a></em> or <em><a class="el" href="classBeepPin2.html" title="Play simple square wave tones using speaker pin 2.">BeepPin2</a></em> classes will be very efficient.</p>
<p>If you want to be able to play sequences of tones or background music, using the <a href="https://github.com/MLXXXp/ArduboyTones"><em>ArduboyTones</em></a> library will be more code efficient than using <a href="https://github.com/Arduboy/ArduboyPlayTune"><em>ArduboyPlaytune</em></a> or most other sound libraries compatible with the Arduboy. <em>ArduboyTones</em> even produces less code than the <a href="https://www.arduino.cc/en/Reference/Tone">Arduino built in <em>tone()</em> function</a>. You'll have to decide on the appropriate library or functions you use to generate sound, based on the features required and how much memory you want it to use.</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Remove the text functions</h3>
<p>If your sketch doesn't use any of the functions for displaying text, such as <em>setCursor()</em> and <em>print()</em>, you can remove them. You could do this if your sketch generates whatever text it requires by some other means. Removing the text functions frees up code by not including the font table and some code that is always pulled in by inheriting the <a href="https://playground.arduino.cc/Code/Printclass/">Arduino <em>Print</em> class</a>.</p>
<p>To eliminate text capability in your sketch, when creating the library object simply use the <em><a class="el" href="classArduboy2Base.html" title="The main functions provided for writing sketches for the Arduboy, minus text output.">Arduboy2Base</a></em> class instead of <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em>:</p>
<p>For example, if the object will be named <em>arduboy</em>:</p>
<p>Replace</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
</div><!-- fragment --><p>with</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2Base.html">Arduboy2Base</a> arduboy;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
Substitute or remove boot up features</h3>
<p>As previously described in the <em>Start up features</em> section, the <em>begin()</em> function includes features that are intended to be available to all sketches during boot up. However, if you're looking to gain some code space, you can call <em>boot()</em> instead of <em>begin()</em>. This will initialize the system but not include any of the extra boot up features. You can then add back in any of these features by calling the functions that perform them. You will have to trade off between the desirability of having a feature and how much memory you can recover by not including it.</p>
<p>You should at least call either <em>flashlight()</em> or <em>safeMode()</em> as a safeguard to allow uploading a new sketch when the bootloader "magic key" problem is an issue.</p>
<p>Here is a template that provides the equivalent of <em>begin()</em></p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> setup()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Required to initialize the hardware.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Core.html#a06ae236911e49634dbd7bfa1a26a4ba1">boot</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This clears the display. (The screen buffer will be all zeros)</span></div>
<div class="line">  <span class="comment">// It may not be needed if something clears the display later on but</span></div>
<div class="line">  <span class="comment">// &quot;garbage&quot; will be displayed if systemButtons() is used without it.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#aff2f9bc358bf3090cf4ffa3bd3a59fd6">display</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// flashlight() or safeMode() should always be included to provide</span></div>
<div class="line">  <span class="comment">// a method of recovering from the bootloader &quot;magic key&quot; problem.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#af8f9d1ef6c6b2b755a742653f972325a">flashlight</a>();</div>
<div class="line"><span class="comment">//  arduboy.safeMode();</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This allows sound to be turned on or muted. If the sketch provides</span></div>
<div class="line">  <span class="comment">// its own way of toggling sound, or doesn&#39;t produce any sound, this</span></div>
<div class="line">  <span class="comment">// function may not be required.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#ad6dc5d0b396938daee143010bba64182">systemButtons</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This is required to initialize the speaker. It&#39;s not needed if</span></div>
<div class="line">  <span class="comment">// the sketch doesn&#39;t produce any sounds.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#a2d52f5b2b4f6a8132ce9ac7c8ac9a3dd">begin</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// This displays the boot logo sequence but note that the logo can</span></div>
<div class="line">  <span class="comment">// be suppressed by the user, by pressing the RIGHT button or using</span></div>
<div class="line">  <span class="comment">// a system EEPROM setting. If not removed entirely, an alternative</span></div>
<div class="line">  <span class="comment">// bootLogo...() function may save some memory.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a90e352941396d013789dac951d1230fe">bootLogo</a>();</div>
<div class="line"><span class="comment">//  arduboy.bootLogoCompressed();</span></div>
<div class="line"><span class="comment">//  arduboy.bootLogoSpritesSelfMasked();</span></div>
<div class="line"><span class="comment">//  arduboy.bootLogoSpritesOverwrite();</span></div>
<div class="line"><span class="comment">//  arduboy.bootLogoSpritesBSelfMasked();</span></div>
<div class="line"><span class="comment">//  arduboy.bootLogoSpritesBOverwrite();</span></div>
<div class="line"><span class="comment">//  arduboy.bootLogoText();</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Wait for all buttons to be released, in case a pressed one might</span></div>
<div class="line">  <span class="comment">// cause problems by being acted upon when the actual sketch code</span></div>
<div class="line">  <span class="comment">// starts. If neither systemButtons() nor bootLogo() is kept, this</span></div>
<div class="line">  <span class="comment">// function isn&#39;t required.</span></div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a5d2b7ad7086e9ae1d62dea282d44c095">waitNoButtons</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Additional setup code...</span></div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p>There are a few functions provided that are roughly equivalent to the standard functions used by <em>begin()</em> but which use less code space.</p>
<ul>
<li><em>bootLogoCompressed()</em>, <em>bootLogoSpritesSelfMasked()</em>, <em>bootLogoSpritesOverwrite()</em>, <em>bootLogoSpritesBSelfMasked()</em> and <em>bootLogoSpritesBOverwrite()</em> will do the same as <em>bootLogo()</em> but will use <em>drawCompressed()</em>, or <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em> / <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em> class <em>drawSelfMasked()</em> or <em>drawOverwrite()</em> functions respectively, instead of <em>drawBitmap()</em>, to render the logo. If the sketch uses one of these functions, then using the boot logo function that also uses it may reduce code size. It's best to try each of them to see which one produces the smallest size.</li>
<li><em>bootLogoText()</em> can be used in place <em>bootLogo()</em> in the case where the sketch uses text functions. It renders the logo as text instead of as a bitmap (so doesn't look as good).</li>
<li><em>safeMode()</em> can be used in place of <em>flashlight()</em> as a safeguard to allow uploading a new sketch when the bootloader "magic key" problem is an issue. It only lights the red RGB LED, so you don't get the bright light that is the primary purpose of <em>flashlight()</em>.</li>
</ul>
<p>It is also possible to replace the boot logo drawing function with one that uses a different bitmap rendering function used elsewhere in your sketch. This may save memory by using this bitmap function for the logo, instead of the logo using a separate function that only ends up being used once. For example, if you use the <em>ArdBitmap</em> library's <em>drawCompressed()</em> function in your sketch, you could convert the <b>ARDUBOY</b> logo to <em>Ardbitmap</em> compressed format, and create <em>drawLogoArdCompressed()</em> and <em>bootLogoArdCompressed()</em> functions:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> drawLogoArdCompressed(int16_t y)</div>
<div class="line">{</div>
<div class="line">  ardbitmap.drawCompressed(20, y, arduboy_logo_ardbitmap,</div>
<div class="line">                           <a class="code" href="Arduboy2_8h.html#a87b537f5fa5c109d3c05c13d6b18f382">WHITE</a>, ALIGN_CENTER, MIRROR_NONE);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> bootLogoArdCompressed()</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (arduboy.<a class="code" href="classArduboy2Base.html#a9b904babc43d7c1a309f18c68edf5630">bootLogoShell</a>(drawLogoArdCompressed))</div>
<div class="line">  {</div>
<div class="line">    arduboy.bootLogoExtra();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup()</div>
<div class="line">{</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a0fcd2999f4a611c7bdeab5d6ae84b658">beginDoFirst</a>();</div>
<div class="line">  bootLogoArdCompressed();</div>
<div class="line">  arduboy.<a class="code" href="classArduboy2Base.html#a5d2b7ad7086e9ae1d62dea282d44c095">waitNoButtons</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Additional setup code...</span></div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p>The <b>ARDUBOY</b> logo, in PNG format, is included in the library repository as file:</p>
<p><code>extras/assets/arduboy_logo.png</code></p>
<h3><a class="anchor" id="autotoc_md15"></a>
Use the SpritesB class instead of Sprites</h3>
<p>The <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em> class has functions identical to the <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em> class. The difference is that <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em> is optimized for small code size rather than execution speed. If you want to use the sprites functions, and the slower speed of <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em> doesn't affect your sketch, you may be able to use it to gain some code space.</p>
<p>Even if the speed is acceptable when using <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em>, you should still try using <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em>. In some cases <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em> will produce less code than <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em>, notably when only one of the functions is used.</p>
<p>You can easily switch between using <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em> or <em><a class="el" href="classSpritesB.html" title="A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.">SpritesB</a></em> by using one or the other to create an object instance:</p>
<div class="fragment"><div class="line"><a class="code" href="classSprites.html">Sprites</a> sprites;  <span class="comment">// Use this to optimize for execution speed</span></div>
<div class="line"><a class="code" href="classSpritesB.html">SpritesB</a> sprites; <span class="comment">// Use this to (likely) optimize for code size</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md16"></a>
Eliminate the USB stack code</h3>
<p><b>Warning:</b> Although this will free up a fair amount of code and some RAM space, without an active USB interface uploader programs will be unable to automatically force a reset to invoke the bootloader. This means the user will have to manually initiate a reset in order to upload a new sketch. This can be an inconvenience or even frustrating for a user, due to the fact that timing the sequence can sometimes be tricky. Therefore, using this technique should be considered as a last resort. If it is used, the sketch documentation should state clearly what will be involved to upload a new sketch.</p>
<p>The <em>ARDUBOY_NO_USB</em> macro is used to eliminate the USB code. The <em>exitToBootloader()</em> function is available to make it easier for a user to invoke the bootloader. For more details, see the documentation provided for these.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md18"></a>
What's different from Arduboy library V1.1</h1>
<p>(These notes apply to when the <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> library was first released. There will have been many additional changes, enhancements and features added to <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> since then.)</p>
<p>A main goal of <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> is to provide ways in which more code space can be freed for use by large sketches. Another goal is to allow methods other than the <em>tunes</em> functions to be used to produce sounds. <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> remains substantially compatible with <a href="https://github.com/Arduboy/Arduboy/releases/tag/v1.1">Arduboy library V1.1</a>, which was the latest stable release at the time of the fork. <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> is based on the code targeted for Arduboy library V1.2, which was still in development and unreleased at the time it was forked.</p>
<p>Main differences between <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> and Arduboy V1.1 are:</p>
<ul>
<li>The <em>ArduboyTunes</em> subclass, which provided the <em>tunes.xxx()</em> functions, has been removed. It's functionality is available in a separate <a href="https://github.com/Arduboy/ArduboyPlayTune"><em>ArduboyPlaytune</em> library</a>. By removing these functions, more code space may become available because interrupt routines and other support code was being compiled in even if a sketch didn't make use them. Another benefit is that without the automatic installation of timer interrupt service routines, other audio generating functions and libraries, that need access to the same interrupts, can now be used. Removal of the <em>tunes</em> functions is the main API incompatibility with Arduboy V1.1. Sketches written to use <em>tunes</em> functions will need some minor modifications in order to make them work with <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> plus ArduboyPlaytune, <a href="https://github.com/MLXXXp/ArduboyTones">ArduboyTones</a>, or some other audio library.</li>
<li>Arduboy library V1.1 uses timer 1 for the <em>tunes</em> functions. This causes problems when attempting to control the Arduboy's RGB LED using PWM, such as with <em>setRGBled()</em>, because it also requires timer 1. Since the <em>tunes</em> functionality has been removed from <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a>, there are no problems with using the RGB LED (except those caused by the RGB LED being incorrectly installed). Of course, using an external library that uses timer 1, such as <em>ArduboyPlaytune</em>, may reintroduce the problems. However, using a library that doesn't use timer 1, such as <em>ArduboyTones</em>, is now an option.</li>
<li>The code to generate text output, using <em>setCursor()</em>, <em>print()</em>, etc., can be removed to free up code space, if a sketch doesn't use any text functions. The <em><a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a></em> class includes the text functions but using the <em><a class="el" href="classArduboy2Base.html" title="The main functions provided for writing sketches for the Arduboy, minus text output.">Arduboy2Base</a></em> class instead will eliminate them. With text functions included, the font table and some support functions are always compiled in even if not used. The API for using text functions is the same as Arduboy V1.1 with some additional functions added:<ul>
<li><em>setTextColor()</em> and <em>setTextBackground()</em> allow for printing black text on a white background.</li>
<li><em>getCursorX()</em> and <em>getCursorY()</em> allow for determining the current text cursor position.</li>
<li>The <em>clear()</em> function will now reset the text cursor to home position 0, 0.</li>
</ul>
</li>
<li>A new feature has been added which allows the <em>audio on/off</em> flag in system EEPROM to be configured by the user when the sketch starts. The flag is used by the Arduboy and <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> <em>audio</em> subclass, along with external sound functions and libraries, to provide a standardized sound mute capability. See the information above, under the heading <em>Audio mute control</em>, for more details.</li>
<li>The <em>color</em> parameter, which is the last parameter for most of the drawing functions, has been made optional and will default to WHITE if not included in the call. This doesn't save any code but has been added as a convenience, since most drawing functions are called with WHITE specified.</li>
<li>A new function <em>digitalWriteRGB()</em> has been added to control the RGB LED digitally instead of using PWM. This uses less code if just turning the RGB LEDs fully on or off is all that's required.</li>
<li>The <em>beginNoLogo()</em> function is not included. This function could be used in Arduboy V1.1 in place of <em>begin()</em> to suppress the displaying of the ARDUBOY logo and thus free up the code that it required. Instead, <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> allows a sketch to call <em>boot()</em> and then add in any extra features that <em>begin()</em> provides by calling their functions directly after <em>boot()</em>, if desired.</li>
<li>The <em>ArduboyCore</em> and <em>ArduboyAudio</em> base classes, previously only available to, and used to derive, the <em>Arduboy</em> class, have been made publicly available for the benefit of developers who may wish to use them as the base of an entirely new library. This change doesn't affect the existing API.</li>
</ul>
<p>As of version 2.1.0 functionality from the Team A.R.G. <em>Arglib</em> library has been added:</p>
<ul>
<li>The sprite drawing functions, collision detection functions, and button handling functions that Team A.R.G. incorporated from the <a href="https://github.com/yyyc514/ArduboyExtra">ArduboyExtra</a> project. The <em>poll()</em> function was renamed <em>pollButtons()</em> for clarity. The <em><a class="el" href="classSprites.html" title="A class for drawing animated sprites from image and mask bitmaps.">Sprites</a></em> class doesn't require a parameter for the constructor, whereas in <em>Arglib</em> a pointer to an Arduboy class object is required.</li>
<li>The <em>drawCompressed()</em> function, which allows compressed bitmaps to be drawn. Saving bitmaps in compressed form may reduce overall sketch size.</li>
</ul>
<p>Team A.R.G. has now migrated all of their games and demos to use the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Migrating a sketch from Arduboy library V1.1 to Arduboy2</h1>
<p>Since the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library can coexist in the Arduino IDE alongside the Arduboy library V1.1, a currently working sketch that uses Arduboy V1.1 doesn't have to be migrated to <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a>. However, if you want to switch a sketch to <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> for further development, in order to take advantage of any of the changes and enhancements, it's generally relatively easy.</p>
<p>The <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> library, for the most part, is compatible with Arduboy library V1.1 but migrating a sketch to <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> will require some small changes, and more so if it uses the <em>tunes</em> functions, such as <em>tunes.tone()</em> or <em>tunes.playScore()</em>.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Required changes</h2>
<p>The first thing to do is change the <code>include</code> for the library header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Arduboy.h&gt;</span></div>
</div><!-- fragment --><p>becomes</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Arduboy2_8h.html">Arduboy2.h</a>&gt;</span></div>
</div><!-- fragment --><p>If it was "Arduboy.h" (in quotes), it's still better to change it to &lt;<a class="el" href="Arduboy2_8h.html" title="The Arduboy2Base and Arduboy2 classes and support objects and definitions.">Arduboy2.h</a>&gt; (in angle brackets).</p>
<p>The same thing has to be done with creating the library object. (If the object name isn't <em>arduboy</em>, keep whatever name is used.):</p>
<div class="fragment"><div class="line">Arduboy arduboy;</div>
</div><!-- fragment --><p>becomes</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
</div><!-- fragment --><p>If the sketch doesn't use any <em>tunes</em> functions, there's a good chance this is all that has to be done to make it compile.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
Sketch uses only tunes.tone() for sound</h2>
<p>If the sketch has sound but only uses <em>tunes.tone()</em>, solutions are:</p>
<h3><a class="anchor" id="autotoc_md22"></a>
Solution 1: Switch to using Arduino tone()</h3>
<p>An easy change is to use the Arduino built in <em>tone()</em> function. You can add a function to the sketch that wraps <em>tone()</em> so that it works like <em>tunes.tone()</em>, like so:</p>
<div class="fragment"><div class="line"><span class="comment">// Wrap the Arduino tone() function so that the pin doesn&#39;t have to be</span></div>
<div class="line"><span class="comment">// specified each time. Also, don&#39;t play if audio is set to off.</span></div>
<div class="line"><span class="keywordtype">void</span> playTone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frequency, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> duration)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#ad565d3174fa31d5ff75bf63ee610596f">enabled</a>() == <span class="keyword">true</span>)</div>
<div class="line">  {</div>
<div class="line">    tone(<a class="code" href="Arduboy2Core_8h.html#a183cd0e06e8d993ee23b588a9d05ec69">PIN_SPEAKER_1</a>, frequency, duration);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>You then change all <em>tunes.tone()</em> calls to <em>playTone()</em> calls using the same parameter values. For example:</p>
<div class="fragment"><div class="line">arduboy.tunes.tone(1000, 250);</div>
</div><!-- fragment --><p>becomes</p>
<div class="fragment"><div class="line">playTone(1000, 250);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md23"></a>
Solution 2: Switch to using the ArduboyTones library</h3>
<p>Changing to the <em>ArduboyTones</em> library is slightly more complicated. The advantage is that it will generate less code than using <em>tone()</em> and will also allow you to easily enhance the sketch to play tone sequences instead of just single tones. ArduboyTones can also play each tone at either normal or a higher volume.</p>
<p>You have to add an include for the ArduboyTones header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;ArduboyTones.h&gt;</span></div>
</div><!-- fragment --><p>You then have to create an object for the <em>ArduboyTones</em> class and pass it a pointer to the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> <em>audio.enabled()</em> function. This must go after the creation of the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> object, like so:</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
<div class="line">ArduboyTones sound(arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#ad565d3174fa31d5ff75bf63ee610596f">enabled</a>);</div>
</div><!-- fragment --><p>You then change all Arduboy <em>tunes.tone()</em> calls to ArduboyTones <em>tone()</em> calls using the same parameter values. For example:</p>
<div class="fragment"><div class="line">arduboy.tunes.tone(1000, 250);</div>
</div><!-- fragment --><p>becomes</p>
<div class="fragment"><div class="line">sound.tone(1000, 250);</div>
</div><!-- fragment --><p>See the <a href="https://github.com/MLXXXp/ArduboyTones">ArduboyTones</a> README file for more information on installing and using it.</p>
<h3><a class="anchor" id="autotoc_md24"></a>
Solution 3: Switch to using the ArduboyPlaytune library.</h3>
<p>See the following for how to do this:</p>
<h2><a class="anchor" id="autotoc_md25"></a>
Sketch uses tunes.playScore()</h2>
<p>If the sketch uses <em>tunes.playScore()</em>, probably the easiest solution is to use the <em>ArduboyPlaytune</em> library. <em>ArduboyPlaytune</em> is essentially the code that was in the Arduboy V1.1 <em>tunes</em> subclass, which has been removed from <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a>. It's been cleaned up and a few enhancements have been added, but all the Arduboy V1.1 <em>tunes</em> functions are available.</p>
<p>You have to add an include for the ArduboyPlaytune header file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;ArduboyPlaytune.h&gt;</span></div>
</div><!-- fragment --><p>You then have to create an object for the <em>ArduboyPlaytune</em> class and pass it a pointer to the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> <em>audio.enabled()</em> function. This must go after the creation of the <a class="el" href="classArduboy2.html" title="The main functions provided for writing sketches for the Arduboy, including text output.">Arduboy2</a> object, like so:</p>
<div class="fragment"><div class="line"><a class="code" href="classArduboy2.html">Arduboy2</a> arduboy;</div>
<div class="line">ArduboyPlaytune tunes(arduboy.<a class="code" href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">audio</a>.<a class="code" href="classArduboy2Audio.html#ad565d3174fa31d5ff75bf63ee610596f">enabled</a>);</div>
</div><!-- fragment --><p>The sound channels must then be initialzed and assigned to the speaker pins. This code would go in the <em>setup()</em> function:</p>
<div class="fragment"><div class="line">  <span class="comment">// audio setup</span></div>
<div class="line">  tunes.initChannel(<a class="code" href="Arduboy2Core_8h.html#a183cd0e06e8d993ee23b588a9d05ec69">PIN_SPEAKER_1</a>);</div>
<div class="line"><span class="preprocessor">#ifndef AB_DEVKIT</span></div>
<div class="line">  <span class="comment">// if not a DevKit</span></div>
<div class="line">  tunes.initChannel(<a class="code" href="Arduboy2Core_8h.html#a9b9703997ab3476f68dc3a779128f543">PIN_SPEAKER_2</a>);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">  <span class="comment">// if it&#39;s a DevKit</span></div>
<div class="line">  tunes.initChannel(<a class="code" href="Arduboy2Core_8h.html#a183cd0e06e8d993ee23b588a9d05ec69">PIN_SPEAKER_1</a>); <span class="comment">// use the same pin for both channels</span></div>
<div class="line">  tunes.toneMutesScore(<span class="keyword">true</span>);       <span class="comment">// mute the score when a tone is sounding</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>If you name the ArduboyPlaytune object <em>tunes</em> as shown above, then you just have to remove the Arduboy object name from any <em>tunes</em> calls. For example:</p>
<div class="fragment"><div class="line">arduboy.tunes.playScore(mySong);</div>
</div><!-- fragment --><p>becomes</p>
<div class="fragment"><div class="line">tunes.playScore(mySong);</div>
</div><!-- fragment --><p>See the <a href="https://github.com/Arduboy/ArduboyPlayTune"><em>ArduboyPlaytune</em> library</a> documentation for more information.</p>
<p>If you don't need to play scores containing two parts, and don't require tones to be played in parallel with a score that's playing, then as an alternative to using <em>ArduboyPlaytune</em> you may wish to consider switching to <em>ArduboyTones</em>. This may require a bit of work because any <em>ArduboyPlaytune</em> scores would have to be converted to <em>ArduboyTones</em> format. It would involve changing note numbers to frequencies. This could be simplified by using the provided <em>NOTE_</em> defines. Also, durations would have to be converted, including adding silent "rest" tones as necessary.</p>
<p>The benefit of using <em>ArduboyTones</em> would be reduced code size and possibly easier addition of new sequences without the need of a MIDI to Playtune format converter.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
Sketch uses the beginNoLogo() function instead of begin()</h2>
<p>The <em>beginNoLogo()</em> function has been removed. <em>beginNoLogo()</em> can be replaced with <em>begin()</em>, since users can choose to suppress the logo sequence using the <em>RIGHT</em> button or by setting a flag in system EEPROM.</p>
<p>If using <em>begin()</em> results in the sketch program memory size being too large, <em>beginDoFirst()</em> or <em>boot()</em> can be used with additional functions following it to add back in desired boot functionality. See the information above, under the heading <em>Substitute or remove boot up features</em>, for more details. Assuming the object is named <em>arduboy</em>, an equivalent replacement for <em>beginNoLogo()</em> would be:</p>
<div class="fragment"><div class="line">arduboy.<a class="code" href="classArduboy2Base.html#a0fcd2999f4a611c7bdeab5d6ae84b658">beginDoFirst</a>();</div>
<div class="line">arduboy.<a class="code" href="classArduboy2Base.html#a5d2b7ad7086e9ae1d62dea282d44c095">waitNoButtons</a>();</div>
</div><!-- fragment --><hr  />
 </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aArduboy2Core_8h_html_a183cd0e06e8d993ee23b588a9d05ec69"><div class="ttname"><a href="Arduboy2Core_8h.html#a183cd0e06e8d993ee23b588a9d05ec69">PIN_SPEAKER_1</a></div><div class="ttdeci">#define PIN_SPEAKER_1</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Core_8h_source.html#l00111">Arduboy2Core.h:110</a></div></div>
<div class="ttc" id="aclassArduboy2Core_html_a06ae236911e49634dbd7bfa1a26a4ba1"><div class="ttname"><a href="classArduboy2Core.html#a06ae236911e49634dbd7bfa1a26a4ba1">Arduboy2Core::boot</a></div><div class="ttdeci">static void boot()</div><div class="ttdoc">Initialize the Arduboy's hardware.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Core_8cpp_source.html#l00081">Arduboy2Core.cpp:81</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_aff2f9bc358bf3090cf4ffa3bd3a59fd6"><div class="ttname"><a href="classArduboy2Base.html#aff2f9bc358bf3090cf4ffa3bd3a59fd6">Arduboy2Base::display</a></div><div class="ttdeci">static void display()</div><div class="ttdoc">Copy the contents of the display buffer to the display.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00997">Arduboy2.cpp:997</a></div></div>
<div class="ttc" id="aclassArduboy2Audio_html_ab0c55b17d1d49cccb1bb797a6d2a81db"><div class="ttname"><a href="classArduboy2Audio.html#ab0c55b17d1d49cccb1bb797a6d2a81db">Arduboy2Audio::off</a></div><div class="ttdeci">static void off()</div><div class="ttdoc">Turn sound off (mute).</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Audio_8cpp_source.html#l00023">Arduboy2Audio.cpp:23</a></div></div>
<div class="ttc" id="aclassArduboy2_html"><div class="ttname"><a href="classArduboy2.html">Arduboy2</a></div><div class="ttdoc">The main functions provided for writing sketches for the Arduboy, including text output.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8h_source.html#l01575">Arduboy2.h:1576</a></div></div>
<div class="ttc" id="aArduboy2_8h_html_a87b537f5fa5c109d3c05c13d6b18f382"><div class="ttname"><a href="Arduboy2_8h.html#a87b537f5fa5c109d3c05c13d6b18f382">WHITE</a></div><div class="ttdeci">#define WHITE</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8h_source.html#l00080">Arduboy2.h:79</a></div></div>
<div class="ttc" id="aclassArduboy2Audio_html_af7a4991bb0ca67cfeac3d3af7b119841"><div class="ttname"><a href="classArduboy2Audio.html#af7a4991bb0ca67cfeac3d3af7b119841">Arduboy2Audio::on</a></div><div class="ttdeci">static void on()</div><div class="ttdoc">Turn sound on.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Audio_8cpp_source.html#l00011">Arduboy2Audio.cpp:11</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a4b51510fd8ea2a35e0e4098af209ca88"><div class="ttname"><a href="classArduboy2Base.html#a4b51510fd8ea2a35e0e4098af209ca88">Arduboy2Base::audio</a></div><div class="ttdeci">static Arduboy2Audio audio</div><div class="ttdoc">An object created to provide audio control functions within this class.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8h_source.html#l00227">Arduboy2.h:227</a></div></div>
<div class="ttc" id="aclassArduboy2_html_a9f4d4313ee2998572a2105d6594baaa1"><div class="ttname"><a href="classArduboy2.html#a9f4d4313ee2998572a2105d6594baaa1">Arduboy2::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdoc">Initialize the hardware, display the boot logo, provide boot utilities, etc.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l01170">Arduboy2.cpp:1170</a></div></div>
<div class="ttc" id="aArduboy2Core_8h_html_a9b9703997ab3476f68dc3a779128f543"><div class="ttname"><a href="Arduboy2Core_8h.html#a9b9703997ab3476f68dc3a779128f543">PIN_SPEAKER_2</a></div><div class="ttdeci">#define PIN_SPEAKER_2</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Core_8h_source.html#l00112">Arduboy2Core.h:111</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html"><div class="ttname"><a href="classArduboy2Base.html">Arduboy2Base</a></div><div class="ttdoc">The main functions provided for writing sketches for the Arduboy, minus text output.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8h_source.html#l00211">Arduboy2.h:212</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a90e352941396d013789dac951d1230fe"><div class="ttname"><a href="classArduboy2Base.html#a90e352941396d013789dac951d1230fe">Arduboy2Base::bootLogo</a></div><div class="ttdeci">static void bootLogo()</div><div class="ttdoc">Display the boot logo sequence using drawBitmap().</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00109">Arduboy2.cpp:109</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_af8f9d1ef6c6b2b755a742653f972325a"><div class="ttname"><a href="classArduboy2Base.html#af8f9d1ef6c6b2b755a742653f972325a">Arduboy2Base::flashlight</a></div><div class="ttdeci">static void flashlight()</div><div class="ttdoc">Turn the RGB LED and display fully on to act as a small flashlight/torch.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00062">Arduboy2.cpp:62</a></div></div>
<div class="ttc" id="aArduboy2_8h_html"><div class="ttname"><a href="Arduboy2_8h.html">Arduboy2.h</a></div><div class="ttdoc">The Arduboy2Base and Arduboy2 classes and support objects and definitions.</div></div>
<div class="ttc" id="aclassArduboy2Audio_html_a2d52f5b2b4f6a8132ce9ac7c8ac9a3dd"><div class="ttname"><a href="classArduboy2Audio.html#a2d52f5b2b4f6a8132ce9ac7c8ac9a3dd">Arduboy2Audio::begin</a></div><div class="ttdeci">static void begin()</div><div class="ttdoc">Initialize the speaker based on the current mute setting.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Audio_8cpp_source.html#l00048">Arduboy2Audio.cpp:48</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a5d2b7ad7086e9ae1d62dea282d44c095"><div class="ttname"><a href="classArduboy2Base.html#a5d2b7ad7086e9ae1d62dea282d44c095">Arduboy2Base::waitNoButtons</a></div><div class="ttdeci">static void waitNoButtons()</div><div class="ttdoc">Wait until all buttons have been released.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00213">Arduboy2.cpp:213</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_ad6dc5d0b396938daee143010bba64182"><div class="ttname"><a href="classArduboy2Base.html#ad6dc5d0b396938daee143010bba64182">Arduboy2Base::systemButtons</a></div><div class="ttdeci">static void systemButtons()</div><div class="ttdoc">Handle buttons held on startup for system control.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00083">Arduboy2.cpp:83</a></div></div>
<div class="ttc" id="aclassSprites_html"><div class="ttname"><a href="classSprites.html">Sprites</a></div><div class="ttdoc">A class for drawing animated sprites from image and mask bitmaps.</div><div class="ttdef"><b>Definition:</b> <a href="Sprites_8h_source.html#l00075">Sprites.h:76</a></div></div>
<div class="ttc" id="aclassSpritesB_html"><div class="ttname"><a href="classSpritesB.html">SpritesB</a></div><div class="ttdoc">A class for drawing animated sprites from image and mask bitmaps. Optimized for small code size.</div><div class="ttdef"><b>Definition:</b> <a href="SpritesB_8h_source.html#l00040">SpritesB.h:41</a></div></div>
<div class="ttc" id="aclassArduboy2Audio_html_ad565d3174fa31d5ff75bf63ee610596f"><div class="ttname"><a href="classArduboy2Audio.html#ad565d3174fa31d5ff75bf63ee610596f">Arduboy2Audio::enabled</a></div><div class="ttdeci">static bool enabled()</div><div class="ttdoc">Get the current sound state.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2Audio_8cpp_source.html#l00056">Arduboy2Audio.cpp:56</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a0fcd2999f4a611c7bdeab5d6ae84b658"><div class="ttname"><a href="classArduboy2Base.html#a0fcd2999f4a611c7bdeab5d6ae84b658">Arduboy2Base::beginDoFirst</a></div><div class="ttdeci">static void beginDoFirst()</div><div class="ttdoc">Helper function that calls the inital functions used by begin()</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00048">Arduboy2.cpp:48</a></div></div>
<div class="ttc" id="aclassArduboy2Base_html_a9b904babc43d7c1a309f18c68edf5630"><div class="ttname"><a href="classArduboy2Base.html#a9b904babc43d7c1a309f18c68edf5630">Arduboy2Base::bootLogoShell</a></div><div class="ttdeci">static bool bootLogoShell(void(&amp;drawLogo)(int16_t))</div><div class="ttdoc">Display the boot logo sequence using the provided function.</div><div class="ttdef"><b>Definition:</b> <a href="Arduboy2_8cpp_source.html#l00171">Arduboy2.cpp:171</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Sep 29 2020 14:29:54 for Arduboy2 Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
